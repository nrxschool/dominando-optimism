# AULA 3

Na aula anterior a gente aprendeu a desenvolver o nosso NFT utilizando ERC821 através da Open Zepelin. Tá. Agora lembra o seguinte eu tenho dois padrões que a gente explorou o ERC 20, que é o Crypto que a gente troca, a gente envia, recebe, os NFTs, os tokens não fungíveis. Agora imagine que eu queria juntar os dois, que é a grande sacada do ERC 1155, porque eu como como empresa, como projeto eu posso ter NFT e posso ter um ERC-20.

Mas por que eu preciso ter dois contratos inteligentes separados? Porque eu não posso ter um com que herda as duas funções. Então essa ideia do ERC-1155. Então nessa aula a gente vai aprender principalmente quais são os principais conceitos do 1155. Como desenvolver nosso contrato 1155 e como interagir com esses contrato. Esse contrato ele gente que envolvem um pouquinho mais de complexidade, mas que nos economiza tempo, gás e recurso.

Tá. Então vamos aqui pra tela. Bom pessoal, então voltando aqui na tela seguinte, nós, a gente, a gente já estudos sobre ERC 20 e O ERC721 que são os tipos de tokens que estão aqui? Então um é a cripto, a criptomoeda que a gente conhece, o outro é o NFT. Agora você imagina o seguinte: pra eu juntar os os dois conceitos eu precisaria dos contratos inteligente, porque se eu precisasse de você, eu preciso de uma cryptocurrency que se eu preciso de uma criptomoeda e se eu preciso de um NFT, teoricamente, são dois tipos de contratos inteligentes diferente. Porém existe um padrão que é o ERC1155 que a gente consegue juntar e os dois na verdade são três, que é o ERC-20, o ERC-721 e o ERC-777 então aqui na tela vocês estão vendo aqui o que a parte de documentação da OpenZeppelin que é uma das maiores empresas aí voltadas para o contrato inteligente.

E eles tem uma implementação, está utilizando o ERC1155.Algumas explicações. A principal dessas batch o preço tá. O que muda com batch operation? Isso significa que a gente pode fazer uma transferência de um conjunto de tokens, então a vez de eu fazer uma transferência de um NFT único, eu posso fazer um safe batch transfer from porque a gente sabe que no ERC-20 existe a função transfer from, mas ela vai transferir apenas as criptomoedas, não é? No 721, a transferência é de tokens. Agora a gente pode lidar com o Batch Operation. Tá dentro do 1155, que a gente pode movimentar os dois. Os dois mundos. Já aqui tem uma construção do que seria um, eventualmente um contratato inteliente, tá aqui tem um exemplo do game itens, como se fosse um jogo onde os usuários poderiam eventualmente mintar NFTs  também utilizar tokens. Então a gente tem aqui uma chamada de safe transfer from, tem 5 argumentos aqui: deploy address, player address, etc, etc, etc. E aqui tem um metadata que também é muito comum dentro dos NFTs. Tá bom. Dito isso, uma vez que a gente consegue entender que o 1155 é a junção do 721 e ERC 20, a gente vem aqui no OpenZeppelin Wizard, tá?

E aí nesse OpenZeppelin Wizard a gente consegue fazer de uma forma bem fácil os nossos contra dele a gente não tem que ficar reescrevendo. Então, eventualmente, se eu tivesse um back end onde eu teria que substituir os metadados, ou seja, se eu precisasse obter o valor de metadados e é esse esse arquivo de JSON  ou a resposta desse de JSON que do metadado precisa ser mais backend, eu teria que digitar aqui, certo?

Então eu poderia escrever aqui a teste que seria um backend ponto com barra aí dez ponto de JSON, que seria onde seria armazenados os valores metadados, que é muito comum nos NFT, tá. Aqui eu posso usar como ownlable, roles, ownable é o mais é o mais agradável nesse momento e eventualmente a gente pode aplicar o mintable, Burning e o supply tracking.

Vou botar todos eles, tá? Todas essas funções a gente vai utilizar no ERC-1155. Agora eu vim aqui no open in Remix. Que que ele vai fazer? Ele vai abrir esse arquivo? Tá? E a gente pode começar a fazer o nosso teste. E então ele já vem que algumas característica do 1155 tá existe as funções de pause, unpause, mint, etc.

Eu vou fazer o deploy e deixa eu ver se eu consigo fazer deploy por aqui mesmo e tem que compilar um vamos ver se vai compilar tá? E compilou agora eu consigo fazer, eu até consigo fazer esse remix VM que é funcionar. Ah tá. Vamos a um outro aqui. Bom, na verdade tanto faz, eu vou deixar aqui mesmo. Então aqui no no constructor eu preciso colocar o initial owner.

Quem vai ser  dono é primário, porque quando a gente faz deploy, não necessariamente a gente não necessariamente é quem está fazendo um deploy, que é o dono do contrato. Por quê? Porque aqui dentro do Construct eu estou passando um parâmetro de initial owner e esse initial owner que eu vou usar para nesse parâmetro fazer deploy, ou seja, toda vez que eu precisar precisar fazer o deploy desse contrato. Gente, eu preciso passar o parâmetro e initial owner,  tá? Se eu clicar aqui e colar uma carteira aleatória, eu vou fazer um transact. E ele foi ele. A gente conseguiu fazer o deploy tranquilamente, tá? E ai que a gente vê as funções que foram herdadas e outras a gente pode chamar a qualquer momento.

Essas aqui, que normalmente são de read, que não tem parâmetro, mas não necessariamente quando não tem parâmetro é para ler mais. Nesse caso tá supply é zero, tá aqui. Como vocês podem ver, a gente está chamando a função de mint, passando o sender. Quem está chamando aí está colocando o Sword uma uma constante. Aqui o valor é o parâmetro sem nada.

Eu posso eventualmente fazer isso, tá? Nesse momento eu posso até. E cadê esse momento? Eu posso até deixar em branco aqui um ver se ele vai. Não, ele não aceita. No caso aqui, só pra gente testar, eu vou colocar esse valor aqui, que é 0x, que é um valor nulo. E quando eu fiz esse transact ele me gerou um erro aqui, que é como se eu não tivesse atualização.

Tá? Por quê? Porque eu estou fazendo um mint, tá? Só que eu coloquei que o initial owner é esse, esse endereço aqui que não é o mesmo que esse account que está aqui. O que acontece significa que o só o dono dessa carteira que pode chamar as funções e por questão de privilégio de conta e nesse caso é com é o outro.

Então o que que eu posso fazer para consertar isso? Eu vou copiar e vou fazer deploy de um novo contrato inteligente. Só que dessa vez utilizando essa conta que está aqui pré configurada e vou chamar uma vez que chamou. E eu tenho essa último, esse último token que eu vou clicar e eu vou novamente preencher esse campo account, aqui vou colocar 300 e aqui vou colocar 0x dessa forma um. Vamos ver  se vai ser chamado agora.

Pronto, com agora foi chamado. E eu posso ter ver ver qual o total Supply 300 tá que acontece. Então a gente conseguiu fazer o deploy do nosso ERC1155,  a gente conseguiu fazer até um mint de novos tokens e agora a gente pode inclusive começar a fazer alguns testes. Tá, mas o que eu quero propor para vocês é dá uma olhadinha nessa documentação, principalmente essa do 1155, tá.

Então aqui tem algumas explicações. Você vê que eles tiraram que o conceito do é ERC-777  na versão na versão cinco X e aqui tem vários conceitos aqui que a gente pode utilizar e entender, tá? A intenção é simplesmente passar o básico de o que seria o ERC-1155, esse tipo de token e agora a gente vai avançar para próxima aula, tá?

Muito obrigado. No menos no próximo vídeo.